PORT=3000
# Example for MongoDB Atlas connection string:
# MONGODB_URI=mongodb+srv://<user>:<password>@<cluster-name>.mongodb.net/
MONGODB_URI=
DB_NAME=dentistry
ADMIN_API_KEY=changeme
CORS_ORIGINS=http://localhost:5173,http://localhost:3001
# When testing from unknown origins (e.g., Vercel preview URLs), set to true to allow all origins temporarily
# Accepted truthy: 1,true,yes,on (case-insensitive)
CORS_ALLOW_ALL=false

# Rate limiting (lenient defaults for development)
# Default throttler
RATE_TTL_SEC=1
RATE_LIMIT=10000
# Orders throttler
ORDERS_RATE_TTL_SEC=1
ORDERS_RATE_LIMIT=1000

# Cloudinary (choose one way)
# 1) Explicit variables
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret
# 2) Single URL string (SDK-style)
# CLOUDINARY_URL=cloudinary://<api_key>:<api_secret>@<cloud_name>

# Customer storefront auth (SMS + JWT)
# Phone normalization fallback (used when номер без кода страны)
CUSTOMER_PHONE_DEFAULT_COUNTRY=UA

# Access tokens (обязательно переопределить в проде)
CUSTOMER_JWT_SECRET=dev-customer-secret-change
CUSTOMER_JWT_EXPIRES_IN=15m
CUSTOMER_JWT_ISSUER=dentistry-storefront
# Опционально: кому предназначен токен (можно оставить пустым)
CUSTOMER_JWT_AUDIENCE=

# Refresh токены (опционально): задай secret, если нужен refresh flow
CUSTOMER_REFRESH_SECRET=
CUSTOMER_REFRESH_EXPIRES_IN=30d

# OTP (SMS-коды) — при необходимости можно вскрыть и настроить лимиты
CUSTOMER_OTP_LENGTH=4
CUSTOMER_OTP_TTL_SEC=300
CUSTOMER_OTP_RESEND_DELAY_SEC=30
CUSTOMER_OTP_MAX_ATTEMPTS=5
CUSTOMER_OTP_PHONE_LIMIT=5
CUSTOMER_OTP_CLIENT_LIMIT=10
CUSTOMER_OTP_IP_LIMIT=20
CUSTOMER_OTP_PHONE_WINDOW_SEC=900
CUSTOMER_OTP_CLIENT_WINDOW_SEC=900
CUSTOMER_OTP_IP_WINDOW_SEC=900
CUSTOMER_OTP_MESSAGE_TEMPLATE=Ваш код подтверждения: {{code}}
CUSTOMER_OTP_SALT_ROUNDS=10

# SMS provider (console|http|noop|twilio)
SMS_PROVIDER=twilio
SMS_API_URL=
SMS_API_KEY=
SMS_FROM=
SMS_TIMEOUT_MS=5000
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_API_KEY_SID=
TWILIO_API_KEY_SECRET=