# Company Contacts (Контакты/Адреса)

Эти данные заполняются в админке и используются на витрине: страница «О компании», футер, виджеты с адресами/контактами.

Модель — карточка контактов (гибкая, все поля опциональны):

```
{
  _id: string,
  addressI18n?: { uk?: string; en?: string },
  phones?: string[],
  email?: string,
  viber?: string[],
  telegram?: string[],
  sort: number,      // для порядка показа
  isActive: boolean,
  createdAt: string,
  updatedAt: string
}
```

## Публичное API

GET `/contacts`

- Возвращает только активные карточки (по умолчанию), отсортированные по `sort`, затем `createdAt`.
- Параметры:
  - `includeInactive=true` — вернуть все карточки, включая неактивные (для предпросмотра/админских страниц на витрине).

Пример ответа:

```json
[
  {
    "_id": "66aa...",
    "addressI18n": { "uk": "м. Київ, вул. Хрещатик, 1", "en": "Kyiv, Khreshchatyk St, 1" },
    "phones": ["+380501234567", "+380971112233"],
    "email": "info@example.com",
    "viber": ["+380501234567", "+380671112233", "+380931234567"],
    "telegram": ["@dentistry_store", "@dent_support"],
    "sort": 1,
    "isActive": true,
    "createdAt": "2025-09-27T12:00:00.000Z",
    "updatedAt": "2025-09-27T12:00:00.000Z"
  }
]
```

Примечания:

- Для отображения адреса используйте i18n-хелпер, аналогично товарам/категориям: `pickI18n(addressI18n, lang)`.
- Поля `phones` — массив, frontend сам решает сколько номеров показывать и как форматировать.

## Admin API

Base: `/admin/contacts`

- GET `/admin/contacts` — список всех карточек (включая неактивные), сортировка по `sort`, затем `createdAt`.
- GET `/admin/contacts/:id` — одна карточка по id.
- POST `/admin/contacts` — создать карточку.
- PATCH `/admin/contacts/:id` — обновить карточку.
- DELETE `/admin/contacts/:id` — удалить карточку.

Body для создания (все поля опциональны):

```json
{
  "addressI18n": { "uk": "м. Київ, вул. Хрещатик, 1", "en": "Kyiv, Khreshchatyk St, 1" },
  "phones": ["+380501234567", "+380971112233"],
  "email": "info@example.com",
  "viber": "+380501234567",
  "telegram": "@dentistry_store",
  "sort": 1,
  "isActive": true
}
```

Body для обновления — любой поднабор этих полей.

Ошибки/валидация:

- `phones` — массив строк.
- `sort` — целое число ≥ 0.
- `isActive` — boolean.
- `addressI18n.uk` и `addressI18n.en` — строки (необязательны).

## Использование на витрине

- Страница «О компании»: запросите `/contacts`, покажите все активные карточки (по порядку `sort`).
- Футер: возьмите первую N карточку(и) или соберите агрегированный блок (на усмотрение фронта).
- Виджеты: можно фильтровать по содержанию (например, карточки, где есть `telegram`).

## Замечания по данным

- Нормализацию телефонов/ссылок можно делать на фронте, бэк никак не ограничивает формат (сохраняем строки как есть).
- Если нужно — можно расширить модель в будущем (например, время работы, геопозиция). Сейчас оставляем минимально необходимую гибкость.
